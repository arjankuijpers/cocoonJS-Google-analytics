<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: cocoonjs-google-analytics.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: cocoonjs-google-analytics.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * custom (Google)Analytics for CocoonJS.
 * @author Arjan Kuijpers &lt;arjankuijpers@live.nl>
 * @version 1.0.1
 * @license MIT
 */

/**
* Custom Analytics object, initialize this object.
* @constructor
* @param {int} trackingId The tracking ID to post to (received from google-analytics).
* @param {int} clientId ID to keep the devices apart from eachother.
*/
var CustomAnalytics = function(trackingId, clientId)
{
    this.trackingID = trackingId;
    this.AnalyticsURL = "https://google-analytics.com/collect";
    this.measurementVersion = 1;
    this.cid = clientId || 0;

    this.initialize();
};

CustomAnalytics.prototype = {
    /** initialize the CustomAnalytics Object. */
    initialize: function(){
        //init the Analytics
        console.log("CA: initialize Custom Analytics");
    },

    /** Send Dimensions to Google Analytics, currently not implemented */
    setDimension: function(fieldName, value){
        console.log("CA: setDimension not implemented");
    },

    /** Send a page view to Google Analytics */
    sendPageView:function(page){
        var params = "dh=CustomAnalytics.app&amp;dp=" + page + "&amp;dt="+page;
        this._postToService("pageview", params, null);
    },

    /** Send a event to Google Analytics  */
    sendEvent: function(category, action, label, value){
        var params = "ec="+category+"&amp;ea="+action+"&amp;el="+label+"&amp;ev="+value;
        this._postToService("event", params, null);
    },

    /**
    * This is an system function, do NOT call this function, but use other functions that call this function internally.
    * @private
    */

    _postToService: function(hitType, aditionalParams, callback){
        var params = "v="+this.measurementVersion+
            "&amp;tid="+ this.trackingID+
            "&amp;cid="+this.cid+
            "&amp;t="+hitType+
            "&amp;"+aditionalParams;


        var trackingPixel = new Image();
        trackingPixel.onload = function()
        {
            console.log("trackingPixel onload" );
        };
        trackingPixel.onerror = function()
        {
            console.log("trackingPixel onerror" );
        };
        trackingPixel.src = this.AnalyticsURL + "?" + params;
        console.log(trackingPixel.src);
    }
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CustomAnalytics.html">CustomAnalytics</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Thu Oct 08 2015 15:04:02 GMT+0200 (West-Europa (zomertijd))
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
